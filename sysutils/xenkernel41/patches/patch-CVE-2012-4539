$NetBSD: patch-CVE-2012-4539,v 1.1 2012/11/14 13:42:41 drochner Exp $

see http://lists.xen.org/archives/html/xen-devel/2012-11/msg00505.html

--- xen/common/compat/grant_table.c.orig	2012-08-10 13:51:47.000000000 +0000
+++ xen/common/compat/grant_table.c
@@ -310,6 +310,8 @@ int compat_grant_table_op(unsigned int c
 #undef XLAT_gnttab_get_status_frames_HNDL_frame_list
                 if ( unlikely(__copy_to_guest(cmp_uop, &cmp.get_status, 1)) )
                     rc = -EFAULT;
+		else
+		    i = 1;
             }
             break;
         }
